# 🛠 调试经验与教训（v0.9.1）

## 1. 菜单可见性问题
- 现象：工具栏下拉菜单偶发不可见或被裁剪
- 根因：父容器 `overflow: hidden` 与层级冲突导致
- 方案：使用 Teleport 将菜单挂载到 `body`，并用 `getBoundingClientRect` 计算绝对位置
- 经验：任何跨容器弹层优先 Teleport；定位层使用 fixed + z-index 统一管理

## 2. 布局塌陷问题
- 现象：右列“输出物”高度为 0，无法显示
- 根因：复杂嵌套下 `flex: 1` 未得到有效高度传递
- 方案：右列采用 `grid-rows-[auto_auto_1fr]` 明确行结构；第三行 `h-full + min-h`
- 经验：Flex 在多层嵌套下不稳定，显式栅格行更可控；注意祖先容器 `h-full`

## 3. 表单数值绑定问题
- 现象：range 滑块调整无效或不稳定
- 根因：`v-model` 默认返回字符串，导致样式计算失效
- 方案：统一使用 `v-model.number`，确保为数值类型
- 经验：任何数值参数绑定都应强制数值化，避免隐式类型转换

## 4. 列表数据为空问题
- 现象：通知铃铛首次点击无数据
- 根因：`localStorage` 初始为空
- 方案：为空时注入默认消息并倒序展示最近 10 条
- 经验：前端状态初始化需考虑空态与演示数据

## 5. 测试建议
- 使用 webapp-testing 技能编写 Playwright 脚本，覆盖：
  - 样式菜单出现与可交互性
  - 输出物高度与对齐
  - 通知列表倒序、红点联动

